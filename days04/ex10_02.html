<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="shortcut icon" type="image/x-icon" href="http://localhost/webPro/images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  div{
    width: 300px;
    height: 100px;
    background-color: yellow;
    border:1px solid;
  }

  p{
    visibility: hidden;
  }
</style>
</head>
<body>

<input id="rdoClockWise" type="radio" name="direction" value="1" checked="checked">
<label for="rdoClockWise">시계방향</label>
<input id="rdoReverseClockWise" type="radio"  name="direction" value="-1">
<label for="rdoReverseClockWise">반시계방향</label>

<br>

<button>회전 시작</button>
<button disabled="disabled">회전 멈춤</button>

<p>.</p>
<p>.</p>
<p>.</p>

<div>
Lorem ipsum dolor sit amet, consectetur 
adipisicing elit. Sit modi eos eum facere 
quod architecto!
</div>

<script>
  let angle = 1 ;  // 회전 각도
  let direction = 1; // 회전 방향  1 / -1
  let timer;
  document.querySelector("button:first-of-type").onclick = function (){
    // alert( event.type );  // click
    // alert( event.srcElement ); // [object HTMLButtonElement]
    // 1. 시계방향, 반시계방향으로 회전 파악
    let dirRadios = document.querySelectorAll("input[type=radio][name=direction]");
    // alert( dirRadios.length );
    for (var i = 0; i < dirRadios.length; i++) {
      if(dirRadios[i].checked){
         direction = dirRadios[i].value;
         break;
      }
    } // 
    
    // 2. 계속 회전
    timer = setInterval( targetRotate, 10);

    this.disabled = true;//회전 시작 비활성화
    document.querySelector("button:last-of-type").disabled = false;//활성화
  }
  
  document.querySelector("button:last-of-type").onclick=function(){
        clearInterval(timer);
        this.disabled = true;//회전 시작 비활성화
    document.querySelector("button:first-of-type").disabled = false;//활성화

  }


  function targetRotate(){
    let target = document.querySelector("div");
    // css transform:rotate(20deg);
    // js
    target.style.transform = "rotate("+angle+"deg)";
    
    angle +=parseInt( direction);
    
    console.log(angle);
  }
  
</script>

</body>
</html>






